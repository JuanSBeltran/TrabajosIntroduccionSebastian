<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="/styles/destinos.css">
  <title>Open World</title>
  

</head>

<header class="header">
    <a href="/index/index.html"><h1>Agencia de Viajes Open World</h1></a>
  </header>

<body>
  <h1>Destinos tur√≠sticos de Colombia</h1>

  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Ciudad</th>
        <th>Descripci√≥n</th>
      </tr>
    </thead>
    <tbody id="tabla-destinos">
      <tr><td colspan="3" style="text-align:center;">Cargando datos...</td></tr>
    </tbody>
  </table>

  <!-- üì¶ Cargar la librer√≠a Supabase -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <!-- üîπ Script para mostrar los datos -->
  <script>
    document.addEventListener("DOMContentLoaded", async () => {
      const SUPABASE_URL = 'https://umoxzhitoujluggspitx.supabase.co';
      const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVtb3h6aGl0b3VqbHVnZ3NwaXR4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjExMTU2MTgsImV4cCI6MjA3NjY5MTYxOH0.7FahMznLDSsSaidDFUVpOc9Awy4iB5HQXxTkIL9RdN8';

      const db = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

      try {
        const { data, error } = await db.from('destinos').select('*');
        if (error) throw error;

        const tbody = document.getElementById("tabla-destinos");
        tbody.innerHTML = ""; // limpia la tabla

        data.forEach(destino => {
          const fila = document.createElement("tr");
          fila.innerHTML = `
            
            <td><strong>${destino.ciudad}</strong></td>
            <td class="descripcion">${destino.descripcion}</td>
          `;
          tbody.appendChild(fila);
        });

      } catch (err) {
        console.error('‚ùå Error al cargar los datos:', err);
        const tbody = document.getElementById("tabla-destinos");
        tbody.innerHTML = `<tr><td colspan="3" style="color:red; text-align:center;">Error al cargar los destinos</td></tr>`;
      }
    });
  </script>
</body>
</html>
